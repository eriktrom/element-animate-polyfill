import { toInt, findDimensionalSuffix } from '../util';
var DEFAULT_UNIT = 'px';
export class DimensionalStyleCalculator {
    constructor() {
    }
    setKeyframeRange(startValue, endValue) {
        var unitA = findDimensionalSuffix(startValue) || DEFAULT_UNIT;
        var unitB = findDimensionalSuffix(endValue) || DEFAULT_UNIT;
        if (unitA != unitB) {
            throw new Error(`Animations containing the same unit can only be animated (the unit for ${startValue} != ${endValue}`);
        }
        this._unit = unitA;
        this._startValue = toInt(startValue);
        this._endValue = toInt(endValue);
        this._rangeDiff = this._endValue - this._startValue;
    }
    calculate(percentage) {
        return this._rangeDiff * percentage + this._startValue + this._unit;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGltZW5zaW9uYWxfc3R5bGVfY2FsY3VsYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNhbGN1bGF0b3JzL2RpbWVuc2lvbmFsX3N0eWxlX2NhbGN1bGF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQ08sRUFBQyxLQUFLLEVBQUUscUJBQXFCLEVBQUMsTUFBTSxTQUFTO0FBRXBELElBQUksWUFBWSxHQUFHLElBQUksQ0FBQztBQUV4QjtJQU1FO0lBQWUsQ0FBQztJQUVoQixnQkFBZ0IsQ0FBQyxVQUF5QixFQUFFLFFBQXVCO1FBQ2pFLElBQUksS0FBSyxHQUFHLHFCQUFxQixDQUFDLFVBQVUsQ0FBQyxJQUFJLFlBQVksQ0FBQztRQUM5RCxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxZQUFZLENBQUM7UUFDNUQsRUFBRSxDQUFDLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQywwRUFBMEUsVUFBVSxPQUFPLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDekgsQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3RELENBQUM7SUFFRCxTQUFTLENBQUMsVUFBa0I7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0RSxDQUFDO0FBQ0gsQ0FBQztBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTdHlsZUNhbGN1bGF0b3J9IGZyb20gJy4uL3N0eWxlX2NhbGN1bGF0b3InO1xuaW1wb3J0IHt0b0ludCwgZmluZERpbWVuc2lvbmFsU3VmZml4fSBmcm9tICcuLi91dGlsJztcblxudmFyIERFRkFVTFRfVU5JVCA9ICdweCc7XG5cbmV4cG9ydCBjbGFzcyBEaW1lbnNpb25hbFN0eWxlQ2FsY3VsYXRvciBpbXBsZW1lbnRzIFN0eWxlQ2FsY3VsYXRvciB7XG4gIHByaXZhdGUgX3VuaXQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfc3RhcnRWYWx1ZTogbnVtYmVyO1xuICBwcml2YXRlIF9lbmRWYWx1ZTogbnVtYmVyO1xuICBwcml2YXRlIF9yYW5nZURpZmY6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgc2V0S2V5ZnJhbWVSYW5nZShzdGFydFZhbHVlOiBudW1iZXJ8c3RyaW5nLCBlbmRWYWx1ZTogbnVtYmVyfHN0cmluZyk6IHZvaWQge1xuICAgIHZhciB1bml0QSA9IGZpbmREaW1lbnNpb25hbFN1ZmZpeChzdGFydFZhbHVlKSB8fCBERUZBVUxUX1VOSVQ7XG4gICAgdmFyIHVuaXRCID0gZmluZERpbWVuc2lvbmFsU3VmZml4KGVuZFZhbHVlKSB8fCBERUZBVUxUX1VOSVQ7XG4gICAgaWYgKHVuaXRBICE9IHVuaXRCKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFuaW1hdGlvbnMgY29udGFpbmluZyB0aGUgc2FtZSB1bml0IGNhbiBvbmx5IGJlIGFuaW1hdGVkICh0aGUgdW5pdCBmb3IgJHtzdGFydFZhbHVlfSAhPSAke2VuZFZhbHVlfWApO1xuICAgIH1cblxuICAgIHRoaXMuX3VuaXQgPSB1bml0QTtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gdG9JbnQoc3RhcnRWYWx1ZSk7XG4gICAgdGhpcy5fZW5kVmFsdWUgPSB0b0ludChlbmRWYWx1ZSk7XG4gICAgdGhpcy5fcmFuZ2VEaWZmID0gdGhpcy5fZW5kVmFsdWUgLSB0aGlzLl9zdGFydFZhbHVlO1xuICB9XG5cbiAgY2FsY3VsYXRlKHBlcmNlbnRhZ2U6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3JhbmdlRGlmZiAqIHBlcmNlbnRhZ2UgKyB0aGlzLl9zdGFydFZhbHVlICsgdGhpcy5fdW5pdDtcbiAgfVxufVxuIl19
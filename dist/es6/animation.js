import { Player, PlayerOptions } from "./player";
import { isNumber } from "./util";
import { BrowserClock } from './browser_clock.ts';
import { BrowserStyles } from './browser_styles';
export class Animation {
    constructor(keyframes, options, clock = null, styles = null) {
        this.keyframes = keyframes;
        if (isNumber(options)) {
            options = { duration: options };
        }
        this.options = new PlayerOptions(options);
        this._clock = clock || new BrowserClock();
        this._styles = styles || new BrowserStyles();
    }
    create(element) {
        return new Player(element, this.keyframes, this.options, this._clock, this._styles);
    }
    start(element) {
        var player = this.create(element);
        player.play();
        return player;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbWF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYW5pbWF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJPQUFPLEVBQUMsTUFBTSxFQUFFLGFBQWEsRUFBQyxNQUFNLFVBQVU7T0FDdkMsRUFBWSxRQUFRLEVBQUMsTUFBTSxRQUFRO09BQ25DLEVBQUMsWUFBWSxFQUFDLE1BQU0sb0JBQW9CO09BQ3hDLEVBQUMsYUFBYSxFQUFDLE1BQU0sa0JBQWtCO0FBRTlDO0lBS0UsWUFBbUIsU0FBb0MsRUFDM0MsT0FBWSxFQUNaLEtBQUssR0FBaUIsSUFBSSxFQUMxQixNQUFNLEdBQWtCLElBQUk7UUFIckIsY0FBUyxHQUFULFNBQVMsQ0FBMkI7UUFJckQsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixPQUFPLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLENBQUM7UUFDbEMsQ0FBQztRQUVELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLElBQUksSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUMxQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxJQUFJLGFBQWEsRUFBRSxDQUFDO0lBQy9DLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBb0I7UUFDekIsTUFBTSxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUVELEtBQUssQ0FBQyxPQUFPO1FBQ1gsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDZCxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hCLENBQUM7QUFDSCxDQUFDO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1BsYXllciwgUGxheWVyT3B0aW9uc30gZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQge2lzUHJlc2VudCwgaXNOdW1iZXJ9IGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCB7QnJvd3NlckNsb2NrfSBmcm9tICcuL2Jyb3dzZXJfY2xvY2sudHMnO1xuaW1wb3J0IHtCcm93c2VyU3R5bGVzfSBmcm9tICcuL2Jyb3dzZXJfc3R5bGVzJztcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XG4gIG9wdGlvbnM6IFBsYXllck9wdGlvbnM7XG4gIHByaXZhdGUgX2Nsb2NrOiBCcm93c2VyQ2xvY2s7XG4gIHByaXZhdGUgX3N0eWxlczogQnJvd3NlclN0eWxlcztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMga2V5ZnJhbWVzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfVtdLFxuICAgICAgICAgICAgICBvcHRpb25zOiBhbnksXG4gICAgICAgICAgICAgIGNsb2NrOiBCcm93c2VyQ2xvY2sgPSBudWxsLFxuICAgICAgICAgICAgICBzdHlsZXM6IEJyb3dzZXJTdHlsZXMgPSBudWxsKSB7XG4gICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zID0geyBkdXJhdGlvbjogb3B0aW9ucyB9O1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IG5ldyBQbGF5ZXJPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRoaXMuX2Nsb2NrID0gY2xvY2sgfHwgbmV3IEJyb3dzZXJDbG9jaygpO1xuICAgIHRoaXMuX3N0eWxlcyA9IHN0eWxlcyB8fCBuZXcgQnJvd3NlclN0eWxlcygpO1xuICB9XG5cbiAgY3JlYXRlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogUGxheWVyIHtcbiAgICByZXR1cm4gbmV3IFBsYXllcihlbGVtZW50LCB0aGlzLmtleWZyYW1lcywgdGhpcy5vcHRpb25zLCB0aGlzLl9jbG9jaywgdGhpcy5fc3R5bGVzKTtcbiAgfVxuXG4gIHN0YXJ0KGVsZW1lbnQpOiBQbGF5ZXIge1xuICAgIHZhciBwbGF5ZXIgPSB0aGlzLmNyZWF0ZShlbGVtZW50KTtcbiAgICBwbGF5ZXIucGxheSgpO1xuICAgIHJldHVybiBwbGF5ZXI7XG4gIH1cbn1cbiJdfQ==